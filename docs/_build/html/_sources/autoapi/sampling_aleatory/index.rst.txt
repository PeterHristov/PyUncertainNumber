sampling_aleatory
=================

.. py:module:: sampling_aleatory


Functions
---------

.. autoapisummary::

   sampling_aleatory.sampling_aleatory_method


Module Contents
---------------

.. py:function:: sampling_aleatory_method(x: list, f: Callable, results: pyuncertainnumber.propagation.utils.Propagation_results = None, n_sam: int = 500, method='monte_carlo', save_raw_data='no') -> pyuncertainnumber.propagation.utils.Propagation_results

   :param - x: A list of `UncertainNumber` objects, each representing an input
               variable with its associated uncertainty.
   :type - x: list
   :param - f: A callable function that takes a 1D NumPy array of input
               values and returns the corresponding output(s). Can be None,
               in which case only samples are generated.
   :type - f: Callable
   :param - results: An object to store propagation results.
                     Defaults to None, in which case a new
                     `Propagation_results` object is created.
   :type - results: Propagation_results, optional
   :param - n_sam: The number of samples to generate for the chosen sampling method.
                   Defaults to 500.
   :type - n_sam: int
   :param - method: The sampling method to use. Choose from:
                    - 'monte_carlo': Monte Carlo sampling (random sampling
                                      from the distributions specified in
                                      the UncertainNumber objects)
                    - 'latin_hypercube': Latin Hypercube sampling (stratified
                                          sampling for better space coverage)
                    Defaults to 'monte_carlo'.
   :type - method: str, optional
   :param - save_raw_data: Whether to save raw data. Options: 'yes', 'no'.
                           Defaults to 'no'.
   :type - save_raw_data: str, optional

   signature:
       sampling_aleatory_method(x: list, f: Callable, results: Propagation_results = None, ...) -> Propagation_results

   .. note::

      - Performs uncertainty propagation using Monte Carlo or Latin Hypercube sampling,
        similar to the `sampling_method`.
      - If the `f` function returns multiple outputs, the code can accomodate.

   :returns:

             A `Propagation_results` object containing:
                               - 'raw_data': A dictionary containing raw data (if
                                             `save_raw_data` is 'yes'):
                                               - 'x': All generated input samples.
                                               - 'f': Corresponding output values for
                                                     each input sample (if `f` is
                                                     provided).
   :rtype: - Propagation_results

   :raises - ValueError: If an invalid sampling method or `save_raw_data` option is provided.

   .. rubric:: Example

   from PyUncertainNumber import UncertainNumber

   def Fun(x):

       input1= x[0]
       input2=x[1]
       input3=x[2]
       input4=x[3]
       input5=x[4]

       output1 = input1 + input2 + input3 + input4 + input5
       output2 = input1 * input2 * input3 * input4 * input5

       return np.array([output1, output2])

   means = np.array([1, 2, 3, 4, 5])
   stds = np.array([0.1, 0.2, 0.3, 0.4, 0.5])

   x = [
       UncertainNumber(essence = 'distribution', distribution_parameters= ["gaussian",[means[0], stds[0]]]),

   from PyUncertainNumber import UncertainNumber

   def Fun(x):

       input1= x[0]
       input2=x[1]
       input3=x[2]
       input4=x[3]
       input5=x[4]

       output1 = input1 + input2 + input3 + input4 + input5
       output2 = input1 * input2 * input3 * input4 * input5

       return np.array([output1, output2])

   means = np.array([1, 2, 3, 4, 5])
   stds = np.array([0.1, 0.2, 0.3, 0.4, 0.5])

   x = [
       UncertainNumber(essence = 'distribution', distribution_parameters= ["gaussian",[means[0], stds[0]]]),

       UncertainNumber(essence = 'distribution', distribution_parameters= ["gaussian",[means[1], stds[1]]]),
       UncertainNumber(essence = 'distribution', distribution_parameters= ["gaussian",[means[2], stds[2]]]),
       UncertainNumber(essence = 'distribution', distribution_parameters= ["gaussian",[means[3], stds[3]]]),
       UncertainNumber(essence = 'distribution', distribution_parameters= ["gaussian",[means[4], stds[4]]]),
       ]

   results = sampling_aleatory_method(x=x, f=Fun, n_sam = 300, method = 'monte_carlo', save_raw_data = "no")

   results.print()


